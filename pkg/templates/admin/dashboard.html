{% extends "admin/base.html" %}

{% block content %}

<div class="container mt-5">
    <h2 class="mb-4 heading-style">
        <i class="fa fa-tachometer-alt"></i> Admin Dashboard 
    </h2>

    <!-- Dashboard Summary Cards -->
    <div class="container">
        <div class="row d-flex justify-content-center align-items-center">
          
          <div class="col-md-3">
            <a href="{{ url_for('manage_projects') }}" class="text-decoration-none">
              <div class="card text-white bg-primary mb-3 text-center">
                <div class="card-body d-flex flex-column align-items-center">
                  <h5 class="card-title"><i class="fas fa-building"></i> Total Projects</h5>
                  <p class="card-text fs-5">{{ total_projects }}</p>
                </div>
              </div>
            </a>
          </div>
      
          <div class="col-md-3">
            <a href="{{ url_for('manage_floors') }}" class="text-decoration-none">
              <div class="card text-white bg-warning mb-3 text-center">
                <div class="card-body d-flex flex-column align-items-center">
                  <h5 class="card-title"><i class="fas fa-layer-group me-2"></i>Floor Stamping</h5>
                  <p class="card-text fs-5">{{  total_floor }}</p>
                </div>
              </div>
            </a>
          </div>
      
          <div class="col-md-3">
            <a href="{{ url_for('manage_designs') }}" class="text-decoration-none">
              <div class="card text-white bg-danger mb-3 text-center">
                <div class="card-body d-flex flex-column align-items-center">
                  <h5 class="card-title"><i class="fas fa-drafting-compass me-2"></i> Architects Design</h5>
                  <p class="card-text fs-5">{{ total_design }}</p>
                </div>
              </div>
            </a>
          </div>

          <div class="col-md-3">
            <a href="{{ url_for('manage_messages') }}" class="text-decoration-none">
              <div class="card text-white bg-success mb-3 text-center">
                <div class="card-body d-flex flex-column align-items-center">
                  <h5 class="card-title"><i class="fas fa-envelope"></i> New Message</h5>
                  <p class="card-text fs-5">{{  unread_messages }}</p>
                </div>
              </div>
            </a>
          </div>
      
        </div>
      </div>
      

    <!-- Recent Projects Table -->

<div class="card mt-4">
    <div class="card-header">
        <h5 class="text-center fs-4"><strong>Recent Added Projects</strong></h5>
    </div>
    <div class="card-body">
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>S/No</th>
                    <th>Project Name</th>
                    <th>Description</th>
                    <th>Client</th>
                    <th>Location</th>
                    <th>Category</th>
                    <th>Year</th>
                    <th>Details</th>
                </tr>
            </thead>
            <tbody>
                {% for project in projects %}
                <tr>
                    <td>{{ loop.index }}</td>
                    <td>{{ project.title }}</td>
                    <td>{{ project.short_description|truncate(40) }}</td>
                    <td>{{ project.client }}</td>
                    <td>{{ project.location }}</td>
                    <td>{{ project.category }}</td>
                    <td>{{ project.year_completed }}</td>
                    

                    <td><a href="{{ url_for('project_details', id=project.id) }}" class="btn btn-outline-primary"> <i class="fas fa-arrow-right"></i></a></td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
        <a href="{{ url_for('manage_projects') }}" class="btn btn-primary btn-sm">View All Projects</a>
    </div>
</div>

</div>
{% endblock %}
